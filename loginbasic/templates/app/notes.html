
{% extends 'app/userBase.html' %}

{% block content%}
{% load static %}


<h1 id  = "folderTitle">{{folder_title}}</h1>
<div class="ubutton">
  {% if not folder_id == 0 %}
  <a href = "{% url 'notes' prevFolder%}"><img src ="{% static 'app/arrow-left-circle.png' %}" id="backbutton"></a>
  {%else%}
  <span style="margin-right:90px; display:inline-block"></span>
  {% endif %}  
</div>

<div id = "newButtonPanel">
  <a href = {% url 'newFolder' folder_id%}>
    <button type="button" class="btn btn-secondary button2" style="color:black">
      New Folder
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-folder-plus" viewBox="0 0 16 16">
        <path d="m.5 3 .04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2Zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672Z"/>
        <path d="M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5Z"/>
      </svg>
    </button>
  </a>
  <a href = {% url 'newNote' folder_id%}>
    <button type="button" class="btn btn-primary button1" style="margin:0px 10px">
      New Note
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
        <path d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"/>
        <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
      </svg>
    </button>
  </a>
</div>

<div class = "container-fluid grid">
  <div class="row">
    <div class="col-lg-3">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-folder" viewBox="0 0 16 16">
              <path d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"/>
            </svg>
            Folders
          </h3>
        </div>
        <div class="card-body">
          <div class="list-group">
            {% for folder in folders %}
              <a href="{% url 'notes' folder.id %}" class="list-group-item list-group-item-action">{{ folder.title }}</a>
            {% empty %}
              <p>No folders found. Create a new one now!</p>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-9">
      <div class="row">
        {% for note in notes %}
          <div class="col-lg-4 mb-4">
            <a href="{% url 'detail' note.id %}" class="notebox">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <div class="d-flex justify-content-between">
                    <span>{{note.title}}</span>
                    <span class="text-end">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                        <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"/>
                      </svg>
                    </span>
                  </div>
                </h5>
                <p class="card-text">{{ note.text|truncatechars:150}}</p>
            
              </div>
            </div>
          </a>
          </div>
        {% empty %}
          <p>No notes found. Write your first one!</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}

